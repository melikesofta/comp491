<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>D3: Pie layout</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.1.min.js"></script>
    <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
    <style type="text/css">

        text {
            font-family: sans-serif;
            font-size: 12px;
            fill: white;
        }

    </style>
    <style type="text/css">
        .st0 {
            fill: #;
        }

        .st1 {
            fill: #FBF281;
            stroke: #131313;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .st2 {
            fill: none;
            stroke: #131313;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .st3 {
            fill: #131313;
        }
    </style>
</head>
<body>

<div style="width: 801px; height: 501px; background: url(back.png)">
    <svg class="board" style="width: 801px; height: 501px;">

    </svg>
</div>


<script type="text/javascript">
    function garson() {
        var _client = {}

        var  $svg = (function(){return $('<svg>' +
                '<rect class="batery" x="31.4" y="18.8" class="st0" height="7.5" style="width: 14.6px; fill: rgb(150,250,150)"></rect>' +
                '<path class="st1" d="M36.2,36.5c0.1,3.9-3,7.1-6.9,7.1s-7.1-3-7.1-6.9c0-0.1,0-0.2,0-0.3c-0.1-3.9,3-7.1,6.9-7.1' +
                '	c3.9-0.1,7.1,3,7.1,6.9C36.2,36.2,36.2,36.4,36.2,36.5z"></path>' +
                '<path class="st2" d="M26.1,38.4c0,0,1.2,1.3,3.1,1.3s3.1-1.3,3.1-1.3"></path>' +
                '<path class="st3" d="M28,33.7c0,0.5-0.5,1-1,1c-0.6,0-1-0.5-1-1l0,0c0-0.5,0.5-1,1-1C27.5,32.7,28,33.2,28,33.7z"></path>' +
                '<path class="st3" d="M32.4,33.7c0,0.5-0.5,1-1,1s-1-0.5-1-1l0,0c0-0.5,0.5-1,1-1S32.4,33.2,32.4,33.7z"></path>' +
                '<line class="st2" x1="31.2" y1="18.5" x2="31.2" y2="26.3"></line>' +
                '<line class="st2" x1="31.2" y1="26.3" x2="46" y2="26.3"></line>' +
                '<line class="st2" x1="31.2" y1="18.5" x2="46" y2="18.5"></line>' +
                '<line class="st2" x1="46" y1="20.5" x2="46" y2="18.5"></line>' +
                '<line class="st2" x1="46" y1="24" x2="46" y2="26.3"></line>' +
                '<line class="st2" x1="46" y1="20.5" x2="48.1" y2="20.5"></line>' +
                '<line class="st2" x1="46" y1="24" x2="48.1" y2="24"></line>' +
                '<line class="st2" x1="48.1" y1="20.5" x2="48.1" y2="24"></line>' +
                '</svg>') })();
        _client.setBatery = function (percent) {
            red = 250 - percent;
            green = 150 + percent;
            $svg.find(".batery").animate("width", 14.6 * percent / 100).animate("fill", "rgb(" + red + "," + green + ",150)")
        };


        _client.add = function (element) {
            $(element).append($svg)


        };
        _client.move = function (x, y) {
            $svg.animate(
                    { x: x - 30 },
                    {
                        duration: 1000,
                        step: function(now) { $(this).attr("x", now); }
                    }).animate(
                    { y: x - 35},
                    {
                        duration: 1000,
                        step: function(now) { $(this).attr("y", now); }
                    });
        };


        _client.svg = $svg; // clear this !!


        return _client;


    }


    g = garson();
    g.add(".board");
    g.setBatery(100);

    g = garson();
    g.add(".board");
    g.setBatery(50);
    g.move(50,50)


</script>


<script type="text/javascript">
    function table(no) {
        var  _table = {}

        var  $svg = (function () {
                return $('<svg width="22" height="22">' +
                    '<circle fill="white" stroke="black" r="10" cx="11" cy="11"> </circle>' +
                    '<text  style="fill:black;" x="4" y="15">' + no + '</text>' +
                    '</svg>')
        })();


        _table.add = function (element) {
            $(element).append($svg)
            return _table;


        };
        _table.move = function (x, y) {
            $svg.attr("x", x - 11).attr("y", y - 11);
            return _table;
        };


        _table.svg = $svg; // clear this !!


        return _table;


    }



    table("01").add(".board").move(600, 400);
    table("02").add(".board").move(140, 200);
    table("03").add(".board").move(300, 150);
    table("04").add(".board").move(100, 300);
    table("05").add(".board").move(40, 200);

</script>
</body>
</html>
